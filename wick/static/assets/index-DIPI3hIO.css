/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility:not(.debug),.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent;pointer-events:none}.xterm .xterm-accessibility-tree:not(.debug) *::selection{color:transparent}.xterm .xterm-accessibility-tree{font-family:monospace;-webkit-user-select:text;user-select:text;white-space:pre}.xterm .xterm-accessibility-tree>div{transform-origin:left;width:fit-content}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:double underline}.xterm-underline-3{text-decoration:wavy underline}.xterm-underline-4{text-decoration:dotted underline}.xterm-underline-5{text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}.xterm .xterm-scrollable-element>.scrollbar{cursor:default}.xterm .xterm-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.xterm .xterm-scrollable-element>.visible{opacity:1;background:#0000;transition:opacity .1s linear;z-index:11}.xterm .xterm-scrollable-element>.invisible{opacity:0;pointer-events:none}.xterm .xterm-scrollable-element>.invisible.fade{transition:opacity .8s linear}.xterm .xterm-scrollable-element>.shadow{position:absolute;display:none}.xterm .xterm-scrollable-element>.shadow.top{display:block;top:0;left:3px;height:3px;width:100%;box-shadow:var(--vscode-scrollbar-shadow, #000) 0 6px 6px -6px inset}.xterm .xterm-scrollable-element>.shadow.left{display:block;top:3px;left:0;height:100%;width:3px;box-shadow:var(--vscode-scrollbar-shadow, #000) 6px 0 6px -6px inset}.xterm .xterm-scrollable-element>.shadow.top-left-corner{display:block;top:0;left:0;height:3px;width:3px}.xterm .xterm-scrollable-element>.shadow.top.left{box-shadow:var(--vscode-scrollbar-shadow, #000) 6px 0 6px -6px inset}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}:root{--bg-primary: #ffffff;--bg-secondary: #f5f5f5;--bg-tertiary: #ebebeb;--bg-hover: #e0e0e0;--bg-input: #ffffff;--border: #d0d0d0;--border-light: #e0e0e0;--text-primary: #111827;--text-secondary: #3f3f46;--text-muted: #71717a;--accent: #2563eb;--accent-hover: #1d4ed8;--accent-soft: rgba(37, 99, 235, .08);--accent-green: #059669;--accent-green-soft: rgba(5, 150, 105, .08);--accent-orange: #d97706;--accent-orange-soft: rgba(217, 119, 6, .08);--accent-red: #dc2626;--accent-red-soft: rgba(220, 38, 38, .08);--accent-purple: #7c3aed;--accent-purple-soft: rgba(124, 58, 237, .08);--accent-teal: #0d9488;--accent-teal-soft: rgba(13, 148, 136, .08);--trace-llm: #16a34a;--trace-tool: #ca8a04;--trace-chain: #7c3aed;--trace-done: #0d9488;--trace-error: #dc2626;--trace-default: #6b7280;--user-bubble: #eff4ff;--user-bubble-text: #1e293b;--user-bubble-muted: #6b7fa3;--assistant-bubble: #f0f1f4;--assistant-bubble-text: #111827;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .06);--shadow-md: 0 2px 6px rgba(0, 0, 0, .1);--shadow-lg: 0 4px 12px rgba(0, 0, 0, .12);--radius: 4px;--radius-sm: 3px;--radius-xs: 2px;--font-mono: "JetBrains Mono", "SF Mono", "Fira Code", "Cascadia Code", monospace;--font-sans: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;--transition: .12s ease}[data-theme=dark]{--bg-primary: #09090b;--bg-secondary: #0f0f11;--bg-tertiary: #18181b;--bg-hover: #27272a;--bg-input: #0f0f11;--border: #303036;--border-light: #27272a;--text-primary: #f1f1f4;--text-secondary: #a1a1aa;--text-muted: #71717a;--accent: #3b82f6;--accent-hover: #60a5fa;--accent-soft: rgba(59, 130, 246, .12);--accent-green: #34d399;--accent-green-soft: rgba(52, 211, 153, .1);--accent-orange: #fbbf24;--accent-orange-soft: rgba(251, 191, 36, .1);--accent-red: #f87171;--accent-red-soft: rgba(248, 113, 113, .1);--accent-purple: #a78bfa;--accent-purple-soft: rgba(167, 139, 250, .1);--accent-teal: #2dd4bf;--accent-teal-soft: rgba(45, 212, 191, .1);--trace-llm: #4ade80;--trace-tool: #facc15;--trace-chain: #a78bfa;--trace-done: #2dd4bf;--trace-error: #f87171;--trace-default: #9ca3af;--user-bubble: #1e293b;--user-bubble-text: #e2e8f0;--user-bubble-muted: #8892a6;--assistant-bubble: #1a1a1e;--assistant-bubble-text: #f1f1f4;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .3);--shadow-md: 0 2px 6px rgba(0, 0, 0, .4);--shadow-lg: 0 4px 12px rgba(0, 0, 0, .5)}html,body,#root{height:100%;background:var(--bg-primary);color:var(--text-primary);font-family:var(--font-sans);font-size:14px;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-feature-settings:"cv02","cv03","cv04","cv11"}.app{display:flex;flex-direction:column;height:100%}.app-header{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;border-bottom:1px solid var(--border-light);background:var(--bg-primary);flex-shrink:0;z-index:10}.app-brand{display:flex;align-items:center;gap:8px}.app-logo{height:30px;width:auto;object-fit:contain;flex-shrink:0}.app-title{font-size:18px;font-weight:700;color:var(--text-primary);letter-spacing:-.4px}.app-controls{display:flex;align-items:center;gap:12px}.app-main{display:flex;flex:1;min-height:0}.resize-handle{width:4px;cursor:col-resize;background:transparent;flex-shrink:0;position:relative;z-index:5;transition:background .12s ease}.resize-handle:after{content:"";position:absolute;top:0;bottom:0;left:-2px;right:-2px}.resize-handle:hover,.resize-handle.dragging{background:var(--accent)}.theme-toggle{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition);font-size:16px;line-height:1;flex-shrink:0}.theme-toggle:hover{background:var(--bg-hover);border-color:var(--text-muted)}.settings-anchor{position:relative}.settings-gear-btn{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition);color:var(--text-secondary);flex-shrink:0}.settings-gear-btn:hover{background:var(--bg-hover);border-color:var(--text-muted);color:var(--text-primary)}.settings-gear-btn.active{background:var(--accent-soft);border-color:var(--accent);color:var(--accent)}.settings-panel{position:absolute;top:calc(100% + 8px);right:0;width:320px;background:var(--bg-primary);border:1px solid var(--border);border-radius:8px;box-shadow:var(--shadow-lg);z-index:200;animation:settings-fade-in .12s ease;overflow:hidden}@keyframes settings-fade-in{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.settings-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--border-light)}.settings-title{font-size:13px;font-weight:600;color:var(--text-primary);letter-spacing:-.2px}.settings-close{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:none;border:none;border-radius:var(--radius-xs);cursor:pointer;color:var(--text-muted);transition:all var(--transition)}.settings-close:hover{background:var(--bg-hover);color:var(--text-primary)}.settings-loading{padding:24px;text-align:center;color:var(--text-muted);font-size:12px}.settings-body{padding:8px 0;max-height:400px;overflow-y:auto}.settings-section{padding:10px 16px}.settings-section+.settings-section{border-top:1px solid var(--border-light)}.settings-label{display:block;font-size:11px;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.settings-select{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border);border-radius:var(--radius-sm);padding:8px 32px 8px 12px;font-size:13px;font-weight:500;font-family:var(--font-sans);cursor:pointer;transition:all var(--transition);background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center}.settings-select:hover{border-color:var(--text-muted)}.settings-select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-soft)}.settings-select:disabled{opacity:.5;cursor:not-allowed}.settings-hint{display:block;font-size:11px;color:var(--text-muted);margin-top:4px}.settings-tools-header{display:flex;align-items:center;justify-content:space-between}.settings-tools-count{font-size:10px;font-weight:600;color:var(--text-muted);margin-left:6px;font-family:var(--font-mono)}.settings-filter{width:100%;background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border);border-radius:var(--radius-sm);padding:6px 10px;font-size:12px;font-family:var(--font-sans);margin-bottom:8px;transition:all var(--transition)}.settings-filter::placeholder{color:var(--text-muted)}.settings-filter:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-soft)}.settings-tools-list{display:flex;flex-direction:column;gap:2px;max-height:200px;overflow-y:auto}.settings-tool-row{display:flex;align-items:center;justify-content:space-between;padding:5px 8px;border-radius:var(--radius-sm);cursor:pointer;transition:background var(--transition)}.settings-tool-row:hover{background:var(--bg-hover)}.settings-tool-info{display:flex;align-items:center;gap:6px;min-width:0}.settings-tool-badge{font-size:9px;font-weight:700;font-family:var(--font-sans);text-transform:uppercase;letter-spacing:.5px;color:var(--accent-purple);background:var(--accent-purple-soft);padding:1px 4px;border-radius:3px;flex-shrink:0}.settings-tool-name{font-size:12px;font-family:var(--font-mono);font-weight:500;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.settings-tool-row.inactive .settings-tool-name{color:var(--text-muted)}.settings-tool-toggle{position:relative;width:34px;height:18px;border-radius:9px;border:none;cursor:pointer;flex-shrink:0;transition:background .2s ease;padding:0}.settings-tool-toggle.off{background:var(--border)}.settings-tool-toggle.on{background:var(--accent-green)}.settings-tool-toggle:disabled{cursor:not-allowed}.settings-toggle-knob{position:absolute;top:2px;width:14px;height:14px;border-radius:50%;background:#fff;box-shadow:0 1px 2px #0003;transition:left .2s cubic-bezier(.4,0,.2,1)}.settings-tool-toggle.off .settings-toggle-knob{left:2px}.settings-tool-toggle.on .settings-toggle-knob{left:18px}.settings-theme-toggle{display:flex;gap:6px}.settings-theme-btn{flex:1;display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 12px;background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-sm);cursor:pointer;font-size:12px;font-weight:500;font-family:var(--font-sans);color:var(--text-secondary);transition:all var(--transition)}.settings-theme-btn:hover{background:var(--bg-hover);border-color:var(--text-muted)}.settings-theme-btn.active{background:var(--accent-soft);border-color:var(--accent);color:var(--accent)}.container-status{display:flex;align-items:center;gap:6px;margin-top:8px;padding:6px 10px;border-radius:var(--radius-sm);font-size:11px;font-weight:500}.container-status-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}.container-status-text{flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.container-status--idle{background:var(--bg-tertiary);color:var(--text-muted)}.container-status--idle .container-status-dot{background:var(--text-muted)}.container-status--launching{background:var(--accent-orange-soft);color:var(--accent-orange)}.container-status--launching .container-status-dot{background:var(--accent-orange);animation:container-pulse 1.2s ease-in-out infinite}.container-status--launched{background:var(--accent-green-soft);color:var(--accent-green)}.container-status--launched .container-status-dot{background:var(--accent-green);box-shadow:0 0 0 3px var(--accent-green-soft)}.container-status--error{background:var(--accent-red-soft);color:var(--accent-red)}.container-status--error .container-status-dot{background:var(--accent-red)}@keyframes container-pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.4;transform:scale(.8)}}.container-terminal-btn{display:inline-flex;align-items:center;gap:4px;background:var(--accent-green);color:#fff;border:none;border-radius:var(--radius-xs);padding:2px 8px;font-size:11px;font-weight:600;font-family:var(--font-sans);cursor:pointer;flex-shrink:0;transition:all var(--transition)}.container-terminal-btn:hover{filter:brightness(1.1)}.terminal-panel{border-top:1px solid var(--border);background:#000;display:flex;flex-direction:column;flex-shrink:0}.terminal-header{display:flex;align-items:center;justify-content:space-between;padding:4px 12px;background:var(--bg-tertiary);border-bottom:1px solid var(--border);flex-shrink:0}.terminal-title{font-size:11px;font-weight:600;color:var(--text-secondary);display:flex;align-items:center;gap:6px}.terminal-close{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:none;border:none;color:var(--text-muted);cursor:pointer;border-radius:var(--radius-xs);transition:all var(--transition)}.terminal-close:hover{background:var(--bg-hover);color:var(--text-primary)}.terminal-body{flex:1;min-height:0;padding:4px}.terminal-toggle-btn{display:inline-flex;align-items:center;gap:4px;background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border);border-radius:var(--radius-sm);padding:4px 10px;font-size:12px;font-weight:500;font-family:var(--font-sans);cursor:pointer;transition:all var(--transition)}.terminal-toggle-btn:hover{border-color:var(--accent);color:var(--accent)}.terminal-toggle-btn.active{background:var(--accent-soft);border-color:var(--accent);color:var(--accent)}.terminal-tabs{display:flex;gap:2px}.terminal-tab{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;background:none;border:none;color:var(--text-muted);font-size:11px;font-weight:600;font-family:var(--font-sans);cursor:pointer;border-radius:var(--radius-xs) var(--radius-xs) 0 0;transition:all var(--transition)}.terminal-tab:hover{color:var(--text-secondary);background:var(--bg-hover)}.terminal-tab.active{color:var(--text-primary);background:var(--bg-primary);border-bottom:2px solid var(--accent)}.file-browser{flex:1;display:flex;flex-direction:column;min-height:0;background:var(--bg-primary)}.file-browser-bar{display:flex;align-items:center;gap:6px;padding:4px 8px;border-bottom:1px solid var(--border-light);flex-shrink:0}.file-browser-up,.file-browser-refresh{display:flex;align-items:center;justify-content:center;width:22px;height:22px;background:none;border:1px solid var(--border);border-radius:var(--radius-xs);color:var(--text-muted);cursor:pointer;transition:all var(--transition);flex-shrink:0}.file-browser-up:hover,.file-browser-refresh:hover{border-color:var(--accent);color:var(--accent)}.file-browser-up:disabled{opacity:.3;cursor:not-allowed}.file-browser-path{font-size:11px;font-family:var(--font-mono);color:var(--text-secondary);flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-browser-content{flex:1;display:flex;min-height:0}.file-browser-list{flex:1;overflow-y:auto;padding:2px 0}.file-browser-list.with-preview{max-width:50%;border-right:1px solid var(--border-light)}.file-browser-msg{padding:12px;font-size:12px;color:var(--text-muted);text-align:center}.file-browser-error{color:var(--accent-red)}.file-entry{display:flex;align-items:center;gap:6px;width:100%;padding:3px 10px;background:none;border:none;color:var(--text-primary);font-size:12px;font-family:var(--font-sans);cursor:pointer;text-align:left;transition:background var(--transition)}.file-entry:hover{background:var(--bg-hover)}.file-entry.selected{background:var(--accent-soft)}.file-entry-icon{display:flex;align-items:center;flex-shrink:0}.file-entry-name{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-entry-size{font-size:10px;font-family:var(--font-mono);color:var(--text-muted);flex-shrink:0}.file-preview{flex:1;display:flex;flex-direction:column;min-width:0}.file-preview-header{display:flex;align-items:center;justify-content:space-between;padding:4px 8px;border-bottom:1px solid var(--border-light);flex-shrink:0}.file-preview-path{font-size:11px;font-weight:600;font-family:var(--font-mono);color:var(--text-secondary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-preview-close{display:flex;align-items:center;justify-content:center;width:18px;height:18px;background:none;border:none;color:var(--text-muted);cursor:pointer;border-radius:var(--radius-xs)}.file-preview-close:hover{background:var(--bg-hover);color:var(--text-primary)}.file-preview-content{flex:1;overflow:auto;padding:8px;font-size:12px;font-family:var(--font-mono);color:var(--text-secondary);line-height:1.5;white-space:pre-wrap;word-break:break-all;margin:0;background:var(--bg-secondary)}.health-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0;transition:all var(--transition)}.health-dot.ok{background:var(--accent-green);box-shadow:0 0 0 3px var(--accent-green-soft)}.health-dot.err{background:var(--accent-red);box-shadow:0 0 0 3px var(--accent-red-soft)}.health-dot.loading{background:var(--text-muted);animation:pulse-dot 1.5s ease-in-out infinite}@keyframes pulse-dot{0%,to{opacity:1}50%{opacity:.3}}.agent-selector{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border);border-radius:var(--radius-sm);padding:8px 36px 8px 14px;font-size:13px;font-weight:500;font-family:var(--font-sans);cursor:pointer;min-width:220px;transition:all var(--transition);background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center}.agent-selector:hover{border-color:var(--text-muted)}.agent-selector:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-soft)}.agent-selector:disabled{opacity:.5;cursor:not-allowed}.agent-selector-loading,.agent-selector-error,.agent-selector-empty{color:var(--text-secondary);font-size:13px;font-weight:500}.agent-selector-error{color:var(--accent-red);display:flex;align-items:center;gap:8px}.agent-retry-btn{background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border);border-radius:var(--radius-xs);padding:2px 8px;font-size:11px;font-weight:600;cursor:pointer;transition:all var(--transition)}.agent-retry-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.chat-panel{display:flex;flex-direction:column;flex:1;min-width:0;position:relative}.chat-header{display:flex;align-items:center;gap:8px;padding:8px 16px;border-bottom:1px solid var(--border);background:var(--bg-primary);flex-shrink:0}.chat-title{font-weight:700;font-size:13px;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted)}.thread-id{font-family:var(--font-mono);font-size:11px;color:var(--text-muted);flex:1;font-weight:500;background:none;border:1px solid transparent;border-radius:var(--radius-xs);padding:2px 6px;cursor:pointer;transition:all var(--transition);text-align:left}.thread-id:hover{color:var(--text-secondary);border-color:var(--border);background:var(--bg-tertiary)}.thread-id.copied{color:var(--accent)}.btn-reset{background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border);border-radius:var(--radius-sm);padding:6px 12px;font-size:12px;font-weight:600;cursor:pointer;transition:all var(--transition)}.btn-reset:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary);border-color:var(--text-muted)}.btn-reset:disabled{opacity:.4;cursor:not-allowed}.chat-messages{flex:1;overflow-y:auto;padding:24px;display:flex;flex-direction:column;gap:16px;background:var(--bg-secondary)}.chat-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--text-muted);font-size:15px;font-weight:500;gap:8px}.chat-error{display:flex;align-items:center;justify-content:space-between;background:var(--accent-red-soft);border:1px solid var(--accent-red);border-radius:var(--radius-sm);padding:12px 16px;color:var(--accent-red);font-size:13px;font-weight:500}.chat-error-dismiss{background:none;border:none;color:var(--accent-red);font-size:18px;cursor:pointer;padding:0 4px;opacity:.6;transition:opacity var(--transition);flex-shrink:0;line-height:1}.chat-error-dismiss:hover{opacity:1}.scroll-to-bottom{position:absolute;bottom:80px;left:50%;transform:translate(-50%);background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius);padding:6px 10px;cursor:pointer;color:var(--text-secondary);box-shadow:var(--shadow-md);transition:all var(--transition);z-index:5;display:flex;align-items:center;gap:4px}.scroll-to-bottom:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--text-muted)}.chat-input-area{display:flex;gap:8px;padding:12px 16px;border-top:1px solid var(--border-light);background:var(--bg-primary);flex-shrink:0;box-shadow:0 -1px 3px #00000005}.chat-input{flex:1;background:var(--bg-input);color:var(--text-primary);border:1px solid var(--border);border-radius:var(--radius-sm);padding:12px 16px;font-family:var(--font-sans);font-size:14px;font-weight:500;resize:none;line-height:1.5;transition:border-color var(--transition),box-shadow var(--transition);min-height:40px;max-height:40vh;overflow:hidden}.chat-input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-soft)}.chat-input:disabled{opacity:.5}.chat-input::placeholder{color:var(--text-muted);font-weight:400}.chat-actions{display:flex;align-items:flex-end}.btn-send,.btn-stop{padding:10px 24px;border:none;border-radius:var(--radius);font-size:13px;font-weight:700;cursor:pointer;transition:all var(--transition);letter-spacing:.2px}.btn-send{background:var(--accent);color:#fff;box-shadow:var(--shadow-sm)}.btn-send:hover:not(:disabled){background:var(--accent-hover);box-shadow:var(--shadow-md)}.btn-send:disabled{opacity:.35;cursor:not-allowed}.btn-stop{background:var(--accent-red);color:#fff;box-shadow:var(--shadow-sm)}.btn-stop:hover{opacity:.9;box-shadow:var(--shadow-md)}.message-bubble{max-width:75%;padding:12px 16px;border-radius:var(--radius);font-size:14px;line-height:1.65;white-space:pre-wrap;word-break:break-word;font-weight:400;animation:msg-appear .3s cubic-bezier(.16,1,.3,1) both;transition:box-shadow .2s ease}@keyframes msg-appear{0%{opacity:0;transform:translateY(12px) scale(.97)}to{opacity:1;transform:translateY(0) scale(1)}}.message-bubble.user{align-self:flex-end;background:var(--user-bubble);color:var(--user-bubble-text);border-bottom-right-radius:var(--radius-xs);border:1px solid var(--border-light);border-right:3px solid var(--accent)}.message-bubble.user .message-role,.message-bubble.user .message-time{color:var(--user-bubble-muted);opacity:1}.message-bubble.user .message-copy-btn{color:var(--user-bubble-muted)}.message-bubble.user .message-copy-btn:hover{color:var(--user-bubble-text);border-color:var(--user-bubble-muted);background:#8080801f}.message-bubble.user .message-copy-btn.copied{color:var(--accent)}.message-bubble.assistant{align-self:flex-start;background:var(--assistant-bubble);color:var(--assistant-bubble-text);border:1px solid var(--border-light);border-bottom-left-radius:var(--radius-xs);white-space:normal}.message-bubble.assistant .message-content p:first-child{margin-top:0}.message-bubble.assistant .message-content p:last-child{margin-bottom:0}.message-bubble.assistant .message-content p{margin:6px 0}.message-bubble.assistant .message-content ul,.message-bubble.assistant .message-content ol{margin:6px 0;padding-left:20px}.message-bubble.assistant .message-content li{margin:2px 0}.message-bubble.assistant .message-content h1,.message-bubble.assistant .message-content h2,.message-bubble.assistant .message-content h3{margin:12px 0 6px;line-height:1.3}.message-bubble.assistant .message-content h1{font-size:18px;font-weight:700}.message-bubble.assistant .message-content h2{font-size:16px;font-weight:700}.message-bubble.assistant .message-content h3{font-size:14px;font-weight:700}.message-bubble.assistant .message-content h1:first-child,.message-bubble.assistant .message-content h2:first-child,.message-bubble.assistant .message-content h3:first-child{margin-top:0}.message-bubble.assistant .message-content blockquote{border-left:3px solid var(--accent);padding-left:12px;margin:8px 0;color:var(--text-secondary)}.message-bubble.assistant .message-content hr{border:none;height:1px;margin:14px 0;background:linear-gradient(90deg,transparent,var(--border) 20%,var(--border) 80%,transparent);opacity:.6}.message-bubble.assistant .message-content strong{font-weight:700}.message-bubble.assistant .message-content a{color:var(--accent);text-decoration:none}.message-bubble.assistant .message-content a:hover{text-decoration:underline}.message-bubble.assistant.streaming{box-shadow:0 0 0 2px var(--accent-soft),var(--shadow-md);animation:msg-appear .3s cubic-bezier(.16,1,.3,1) both,stream-glow 2s ease-in-out infinite}@keyframes stream-glow{0%,to{box-shadow:0 0 0 2px var(--accent-soft),var(--shadow-md)}50%{box-shadow:0 0 0 4px var(--accent-soft),0 2px 16px #2563eb14}}[data-theme=dark] .message-bubble.assistant.streaming{animation:msg-appear .3s cubic-bezier(.16,1,.3,1) both,stream-glow-dark 2s ease-in-out infinite}@keyframes stream-glow-dark{0%,to{box-shadow:0 0 0 2px var(--accent-soft),var(--shadow-md)}50%{box-shadow:0 0 0 4px var(--accent-soft),0 2px 20px #3b82f61f}}.message-meta{display:flex;align-items:center;gap:8px;margin-bottom:4px}.message-role{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.8px;opacity:.6}.message-time{font-size:10px;color:var(--text-muted);font-weight:400}.message-copy-btn{margin-left:auto;background:none;border:1px solid transparent;border-radius:var(--radius-xs);color:var(--text-muted);font-size:10px;font-weight:500;cursor:pointer;padding:1px 6px;opacity:.5;transition:all var(--transition)}.message-bubble:hover .message-copy-btn{opacity:1}.message-copy-btn:hover{color:var(--text-primary);border-color:var(--border);background:var(--bg-tertiary)}.message-copy-btn.copied{opacity:1;color:var(--accent)}.message-content{font-weight:400}.thinking-skeleton{display:flex;flex-direction:column;gap:10px;min-width:180px}.thinking-skeleton-label{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;color:var(--text-muted);letter-spacing:.3px}.thinking-skeleton-dot{width:6px;height:6px;border-radius:50%;background:var(--accent);animation:skeleton-dot-pulse 1.4s ease-in-out infinite}@keyframes skeleton-dot-pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.3;transform:scale(.8)}}.thinking-skeleton-lines{display:flex;flex-direction:column;gap:6px}.thinking-skeleton-line{height:10px;border-radius:2px;background:var(--bg-hover);position:relative;overflow:hidden}.thinking-skeleton-line:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(90deg,transparent,var(--border) 50%,transparent);animation:skeleton-shimmer 1.6s ease-in-out infinite}@keyframes skeleton-shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.streaming-cursor{display:inline-block;width:2.5px;height:18px;background:var(--accent);margin-left:3px;vertical-align:text-bottom;border-radius:2px;animation:cursor-breathe 1s ease-in-out infinite}@keyframes cursor-breathe{0%,to{opacity:1;transform:scaleY(1)}50%{opacity:.3;transform:scaleY(.85)}}.message-content table{border-collapse:separate;border-spacing:0;width:100%;margin:12px 0;border-radius:var(--radius-sm);overflow:hidden;border:1px solid var(--border);font-size:13px}.message-content thead{background:var(--bg-tertiary)}.message-content th{padding:10px 14px;text-align:left;font-weight:700;font-size:11px;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);border-bottom:2px solid var(--border)}.message-content td{padding:10px 14px;border-bottom:1px solid var(--border-light);color:var(--text-primary);font-weight:400}.message-content tr:last-child td{border-bottom:none}.message-content tbody tr{transition:background var(--transition)}.message-content tbody tr:hover{background:var(--bg-hover)}.message-content code{font-family:var(--font-mono);font-size:12px;background:var(--bg-tertiary);padding:2px 6px;border-radius:4px;font-weight:500}.message-content pre{background:var(--bg-tertiary);border:1px solid var(--border-light);border-radius:var(--radius-sm);padding:12px 16px;margin:10px 0;overflow-x:auto;font-family:var(--font-mono);font-size:12px;line-height:1.6}.message-content pre code{background:none;padding:0;border-radius:0}.trace-panel{display:flex;flex-direction:column;flex:1;min-height:0;background:var(--bg-primary)}.trace-header{display:flex;align-items:center;gap:8px;padding:8px 16px;border-bottom:1px solid var(--border);background:var(--bg-primary);flex-shrink:0}.trace-title{font-weight:700;font-size:13px;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted)}.trace-live{font-size:10px;font-weight:800;color:var(--accent-green);background:var(--accent-green-soft);padding:2px 8px;border-radius:var(--radius-xs);letter-spacing:.5px;animation:pulse-live 2s ease-in-out infinite}@keyframes pulse-live{0%,to{opacity:1}50%{opacity:.5}}.trace-filters{display:flex;gap:4px;padding:8px 16px;border-bottom:1px solid var(--border);background:var(--bg-primary);flex-wrap:wrap;flex-shrink:0}.trace-filter-btn{background:transparent;color:var(--text-muted);border:1.5px solid transparent;border-radius:var(--radius-xs);padding:4px 12px;font-size:11px;font-weight:600;cursor:pointer;transition:all var(--transition);letter-spacing:.2px}.trace-filter-btn:hover{color:var(--text-primary);background:var(--bg-tertiary)}.trace-filter-btn.active{background:var(--accent);color:#fff;border-color:var(--accent)}.trace-filter-btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.trace-list{flex:1;overflow-y:auto;padding:8px;display:flex;flex-direction:column;gap:4px;background:var(--bg-secondary)}.trace-empty{display:flex;align-items:center;justify-content:center;height:100%;color:var(--text-muted);font-size:13px;font-weight:500}.trace-event-card{background:var(--bg-primary);border:1px solid var(--border-light);border-left:3px solid;border-radius:var(--radius-sm);padding:8px 12px;cursor:pointer;transition:all .2s ease;box-shadow:var(--shadow-sm);animation:trace-slide-in .25s cubic-bezier(.16,1,.3,1) both}@keyframes trace-slide-in{0%{opacity:0;transform:translate(8px)}to{opacity:1;transform:translate(0)}}.trace-event-card:hover{box-shadow:var(--shadow-md);border-color:var(--border);transform:translate(2px)}.trace-event-header{display:flex;align-items:center;justify-content:space-between;gap:8px}.trace-event-type{font-family:var(--font-mono);font-size:11px;font-weight:700;letter-spacing:-.2px}.trace-event-time{font-family:var(--font-mono);font-size:10px;color:var(--text-muted);font-weight:500}.trace-event-summary{font-size:12px;color:var(--text-secondary);margin-top:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:500}.trace-expand-hint{font-size:10px;color:var(--text-muted);flex-shrink:0}.copy-btn{background:var(--bg-tertiary);color:var(--text-muted);border:1px solid var(--border);border-radius:var(--radius-xs);padding:2px 8px;font-size:10px;font-family:var(--font-mono);font-weight:600;cursor:pointer;flex-shrink:0;transition:all var(--transition)}.copy-btn:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--text-muted)}.copy-btn.copied{color:var(--accent-green);border-color:var(--accent-green);background:var(--accent-green-soft)}.trace-event-data{margin-top:8px;padding:12px;background:var(--bg-secondary);border:1px solid var(--border-light);border-radius:var(--radius-sm);font-family:var(--font-mono);font-size:11px;font-weight:500;color:var(--text-secondary);overflow-x:auto;max-height:360px;overflow-y:auto;white-space:pre-wrap;overflow-wrap:break-word;line-height:1.6}.trace-toggle{display:flex;align-items:center;justify-content:center;position:relative;width:36px;height:36px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition);color:var(--text-secondary);flex-shrink:0}.trace-toggle:hover{background:var(--bg-hover);border-color:var(--text-muted);color:var(--text-primary)}.trace-toggle.active{background:var(--accent-soft);border-color:var(--accent);color:var(--accent)}.trace-toggle-badge{position:absolute;top:-6px;right:-6px;background:var(--text-muted);color:#fff;font-size:9px;font-weight:800;min-width:18px;height:18px;border-radius:9px;display:flex;align-items:center;justify-content:center;padding:0 4px;line-height:1}.trace-toggle-badge.live{background:var(--accent-red)}.trace-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:100}.trace-overlay-backdrop{position:absolute;top:0;right:0;bottom:0;left:0;background:#0000004d;animation:overlay-fade-in .2s ease both}[data-theme=dark] .trace-overlay-backdrop{background:#00000080}@keyframes overlay-fade-in{0%{opacity:0}to{opacity:1}}.trace-overlay-panel{position:absolute;top:0;right:0;width:520px;max-width:90vw;height:100%;background:var(--bg-primary);border-left:1px solid var(--border);box-shadow:var(--shadow-lg);display:flex;flex-direction:column;animation:overlay-slide-in .25s cubic-bezier(.16,1,.3,1) both}@keyframes overlay-slide-in{0%{transform:translate(100%)}to{transform:translate(0)}}.trace-overlay-close-row{display:flex;justify-content:flex-end;padding:8px 8px 0;flex-shrink:0}.trace-overlay-close{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-xs);cursor:pointer;color:var(--text-muted);transition:all var(--transition)}.trace-overlay-close:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--text-muted)}.canvas-panel-wrapper{display:flex;flex-direction:column;min-width:300px;max-width:70vw;flex-shrink:0;height:100%;border-left:1px solid var(--border)}.canvas-panel{display:flex;flex-direction:column;flex:1;min-height:0;background:var(--bg-primary)}.canvas-header{display:flex;align-items:center;justify-content:space-between;padding:8px 16px;border-bottom:1px solid var(--border);background:var(--bg-primary);flex-shrink:0;gap:8px;min-height:48px}.canvas-tabs{display:flex;gap:2px;overflow-x:auto;flex:1;min-width:0}.canvas-tabs::-webkit-scrollbar{height:3px}.canvas-tab{background:transparent;color:var(--text-muted);border:none;border-bottom:2px solid transparent;padding:6px 12px;font-size:12px;font-weight:600;font-family:var(--font-mono);cursor:pointer;transition:all var(--transition);white-space:nowrap;flex-shrink:0}.canvas-tab:hover{color:var(--text-primary);background:var(--bg-tertiary)}.canvas-tab.active{color:var(--accent);border-bottom-color:var(--accent)}.canvas-content{flex:1;overflow:auto;background:var(--bg-secondary)}.canvas-edit-btn{display:flex;align-items:center;gap:5px;background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border);border-radius:var(--radius-xs);padding:5px 12px;font-size:11px;font-weight:600;cursor:pointer;transition:all var(--transition);flex-shrink:0}.canvas-edit-btn:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--text-muted)}.canvas-edit-area{display:flex;flex-direction:column;flex:1;min-height:0}.canvas-edit-textarea{flex:1;width:100%;padding:16px;border:none;outline:none;resize:none;font-family:var(--font-sans);font-size:13px;line-height:1.6;color:var(--text-primary);background:var(--bg-secondary);-moz-tab-size:2;tab-size:2}.canvas-edit-textarea:focus{background:var(--bg-primary)}.code-edit-textarea{font-family:var(--font-mono)}.canvas-edit-actions{display:flex;align-items:center;justify-content:flex-end;gap:8px;padding:8px 16px;border-top:1px solid var(--border-light);background:var(--bg-primary);flex-shrink:0}.canvas-save-btn{background:var(--accent);color:#fff;border:none;border-radius:var(--radius-xs);padding:6px 20px;font-size:12px;font-weight:700;cursor:pointer;transition:all var(--transition)}.canvas-save-btn:hover:not(:disabled){background:var(--accent-hover)}.canvas-save-btn:disabled{opacity:.5;cursor:not-allowed}.canvas-cancel-btn{background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border);border-radius:var(--radius-xs);padding:6px 16px;font-size:12px;font-weight:600;cursor:pointer;transition:all var(--transition)}.canvas-cancel-btn:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary)}.canvas-cancel-btn:disabled{opacity:.5;cursor:not-allowed}.canvas-save-error{color:var(--accent-red);font-size:12px;font-weight:500;flex:1}.canvas-editable{outline:none;cursor:text;min-height:100px;overflow-y:auto;flex:1}.canvas-editable:focus{box-shadow:inset 0 0 0 2px var(--accent-soft)}.edit-toolbar{display:flex;align-items:center;gap:6px;padding:6px 12px;border-bottom:1px solid var(--border-light);background:var(--bg-secondary);flex-shrink:0;flex-wrap:wrap}.edit-toolbar-group{display:flex;gap:2px}.edit-toolbar-btn{display:flex;align-items:center;justify-content:center;width:28px;height:26px;background:none;border:1px solid transparent;border-radius:var(--radius-xs);color:var(--text-secondary);font-size:12px;font-weight:700;cursor:pointer;transition:all var(--transition)}.edit-toolbar-btn:hover{background:var(--bg-hover);border-color:var(--border);color:var(--text-primary)}.edit-toolbar-sep{width:1px;height:18px;background:var(--border-light);flex-shrink:0}.edit-toolbar-spacer{flex:1}.data-table-editable td,.data-table-editable th{cursor:text}.data-td-editable,.data-th-editable{outline:none;transition:background var(--transition)}.data-td-editable:focus,.data-th-editable:focus{background:var(--accent-soft);box-shadow:inset 0 0 0 2px var(--accent)}.data-viewer-edit-header{display:flex;align-items:center;gap:8px;padding:8px 12px;border-bottom:1px solid var(--border-light);background:var(--bg-primary);flex-shrink:0}.data-viewer-filename{font-size:12px;font-weight:600;color:var(--text-secondary);flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.download-btn{display:flex;align-items:center;gap:6px;background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border);border-radius:var(--radius-xs);padding:5px 12px;font-size:11px;font-weight:600;cursor:pointer;transition:all var(--transition);flex-shrink:0}.download-btn:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--text-muted)}.download-btn.loading{opacity:.7;cursor:wait}.download-spinner{width:14px;height:14px;border:2px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin .6s linear infinite}.welcome-view{display:flex;flex-direction:column;align-items:center;padding:40px 24px;height:100%;overflow-y:auto}.welcome-header{text-align:center;margin-bottom:32px}.welcome-title{font-size:20px;font-weight:700;color:var(--text-primary);margin-bottom:6px;letter-spacing:-.3px}.welcome-subtitle{font-size:13px;color:var(--text-muted);font-weight:500}.welcome-loading{display:flex;align-items:center;gap:8px;color:var(--text-muted);font-size:13px;padding:24px 0}.welcome-spinner{width:16px;height:16px;border:2px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin .6s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.welcome-error{display:flex;align-items:center;gap:10px;color:var(--text-muted);font-size:13px;padding:24px 0}.welcome-retry-btn{background:none;border:1px solid var(--border);border-radius:var(--radius-xs);color:var(--accent);font-size:12px;padding:3px 10px;cursor:pointer}.welcome-retry-btn:hover{background:var(--bg-hover)}.welcome-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px;width:100%;max-width:480px}.skill-card{background:var(--bg-primary);border:1px solid var(--border-light);border-radius:var(--radius);padding:16px;transition:all .2s ease}.skill-card:hover{border-color:var(--border);box-shadow:var(--shadow-md)}.skill-card-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--accent-soft);color:var(--accent);border-radius:var(--radius-sm);margin-bottom:8px}.skill-card-name{font-size:14px;font-weight:700;color:var(--text-primary);margin-bottom:4px}.skill-card-desc{font-size:12px;color:var(--text-secondary);font-weight:500;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;margin-bottom:8px}.skill-card-prompts{display:flex;flex-wrap:wrap;gap:4px}.prompt-pill{background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border);border-radius:var(--radius-xs);padding:4px 8px;font-size:10px;font-weight:600;cursor:pointer;transition:all var(--transition);text-align:left}.prompt-pill:hover{background:var(--accent-soft);color:var(--accent);border-color:var(--accent)}.code-viewer{display:flex;flex-direction:column;height:100%}.code-viewer-header{display:flex;align-items:center;gap:8px;padding:8px 16px;border-bottom:1px solid var(--border-light);background:var(--bg-primary);flex-shrink:0}.code-viewer-filename{font-family:var(--font-mono);font-size:12px;font-weight:600;color:var(--text-primary)}.code-viewer-meta{font-size:11px;color:var(--text-muted);flex:1;font-weight:500}.code-viewer-body{display:flex;flex:1;overflow:auto;background:var(--bg-tertiary)}.code-line-numbers{display:flex;flex-direction:column;align-items:flex-end;padding:12px;border-right:1px solid var(--border-light);-webkit-user-select:none;user-select:none;flex-shrink:0;position:sticky;left:0;z-index:1;background:var(--bg-tertiary)}.code-line-numbers span{font-family:var(--font-mono);font-size:12px;line-height:1.6;color:var(--text-muted);font-weight:500;min-width:2ch}.code-viewer-pre{flex:1;margin:0;padding:12px 16px;background:transparent;border:none;border-radius:0;overflow:visible;font-family:var(--font-mono);font-size:12px;line-height:1.6}.code-viewer-pre code{font-family:inherit;font-size:inherit;background:none;padding:0}.hljs{color:var(--text-primary);background:transparent}.hljs-keyword,.hljs-selector-tag,.hljs-built_in{color:var(--accent-purple)}.hljs-string,.hljs-attr{color:var(--accent-green)}.hljs-number,.hljs-literal{color:var(--accent-orange)}.hljs-comment,.hljs-doctag{color:var(--text-muted);font-style:italic}.hljs-function,.hljs-title{color:var(--accent)}.hljs-type,.hljs-class .hljs-title{color:var(--accent-teal)}.hljs-variable,.hljs-template-variable{color:var(--accent-red)}.hljs-meta{color:var(--text-secondary)}.hljs-tag{color:var(--accent-red)}.hljs-name{color:var(--accent)}.hljs-attribute{color:var(--accent-orange)}.hljs-symbol,.hljs-bullet{color:var(--accent-teal)}.hljs-params{color:var(--text-primary)}.data-viewer{display:flex;flex-direction:column;height:100%}.data-viewer-empty{display:flex;align-items:center;justify-content:center;height:100%;color:var(--text-muted);font-size:13px;font-weight:500}.data-viewer-scroll{flex:1;overflow:auto}.data-table{border-collapse:separate;border-spacing:0;width:100%;font-size:12px}.data-table thead{position:sticky;top:0;z-index:2;background:var(--bg-tertiary)}.data-th-sortable{padding:10px 14px;text-align:left;font-weight:700;font-size:11px;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);border-bottom:2px solid var(--border);cursor:pointer;transition:background var(--transition);-webkit-user-select:none;user-select:none;white-space:nowrap}.data-th-sortable:hover{background:var(--bg-hover)}.sort-indicator{font-size:10px;color:var(--accent)}.data-table td{padding:8px 14px;border-bottom:1px solid var(--border-light);color:var(--text-primary);font-weight:400;white-space:nowrap}.data-table tbody tr:nth-child(2n){background:var(--bg-tertiary)}.data-table tbody tr:hover{background:var(--bg-hover)}.data-viewer-footer{padding:8px 16px;border-top:1px solid var(--border-light);background:var(--bg-primary);font-size:11px;color:var(--text-muted);font-weight:600;flex-shrink:0}.document-viewer{display:flex;flex-direction:column;height:100%}.document-viewer-header{display:flex;align-items:center;gap:8px;padding:8px 16px;border-bottom:1px solid var(--border-light);background:var(--bg-primary);flex-shrink:0}.document-viewer-filename{font-family:var(--font-mono);font-size:12px;font-weight:600;color:var(--text-primary);flex:1}.document-viewer-body{flex:1;overflow-y:auto;padding:24px}.document-viewer-body h1{font-size:22px;font-weight:700;margin:20px 0 10px}.document-viewer-body h2{font-size:18px;font-weight:700;margin:18px 0 8px}.document-viewer-body h3{font-size:15px;font-weight:700;margin:14px 0 6px}.document-viewer-body p{margin:8px 0;line-height:1.7}.document-viewer-body ul,.document-viewer-body ol{margin:8px 0;padding-left:24px}.document-viewer-body li{margin:4px 0;line-height:1.6}.document-viewer-body blockquote{border-left:3px solid var(--accent);padding-left:16px;margin:12px 0;color:var(--text-secondary)}.slides-viewer{display:flex;flex-direction:column;height:100%}.slides-viewer-header{display:flex;align-items:center;gap:8px;padding:8px 16px;border-bottom:1px solid var(--border-light);background:var(--bg-primary);flex-shrink:0}.slides-viewer-filename{font-family:var(--font-mono);font-size:12px;font-weight:600;color:var(--text-primary);flex:1}.slides-viewer-counter{font-family:var(--font-mono);font-size:11px;color:var(--text-muted);font-weight:600}.slides-export-btn{display:flex;align-items:center;gap:5px;background:var(--accent);color:#fff;border:none;border-radius:var(--radius-xs);padding:5px 12px;font-size:11px;font-weight:700;cursor:pointer;transition:all var(--transition);flex-shrink:0}.slides-export-btn:hover:not(:disabled){background:var(--accent-hover);box-shadow:var(--shadow-sm)}.slides-export-btn:disabled{opacity:.6;cursor:not-allowed}.slides-export-spinner{display:inline-block;width:12px;height:12px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:slides-spin .6s linear infinite}@keyframes slides-spin{to{transform:rotate(360deg)}}.slides-viewer-body{flex:1;overflow-y:auto;display:flex;align-items:center;justify-content:center;padding:24px;background:var(--bg-secondary)}.slides-viewer-stage{width:100%;max-width:720px;aspect-ratio:16 / 9;background:var(--bg-primary);border-radius:var(--radius);box-shadow:var(--shadow-lg),0 0 0 1px var(--border-light);overflow:hidden;display:flex;align-items:flex-start}.slides-viewer-slide{width:100%;height:100%;padding:32px 40px;overflow-y:auto}.slides-viewer-slide h1{font-size:28px;font-weight:800;color:var(--text-primary);margin:0 0 16px;letter-spacing:-.5px;line-height:1.2}.slides-viewer-slide h2{font-size:22px;font-weight:700;color:var(--text-primary);margin:0 0 14px;letter-spacing:-.3px;line-height:1.25}.slides-viewer-slide h3{font-size:18px;font-weight:700;color:var(--text-secondary);margin:0 0 10px;line-height:1.3}.slides-viewer-slide p{font-size:15px;line-height:1.7;margin:8px 0;color:var(--text-primary)}.slides-viewer-slide ul,.slides-viewer-slide ol{margin:8px 0;padding-left:20px}.slides-viewer-slide li{font-size:15px;line-height:1.65;margin:5px 0;color:var(--text-primary)}.slides-viewer-slide blockquote{border-left:3px solid var(--accent);padding-left:14px;margin:10px 0;color:var(--text-secondary);font-style:italic}.chart-container{display:flex;justify-content:center;margin:12px 0}.chart-container svg{max-width:100%;height:auto}.chart-title{fill:var(--text-primary)}.chart-label{fill:var(--text-secondary)}.chart-label-muted{fill:var(--text-muted)}.chart-grid{stroke:var(--border-light)}.chart-axis{stroke:var(--border)}.chart-clickable:hover{filter:brightness(1.1);transition:filter .15s ease}.slides-thumbnail-content .chart-container svg{max-width:100%}.slides-filter-indicator{display:flex;align-items:center;justify-content:center;gap:8px;padding:6px 16px;background:var(--accent-soft);border-top:1px solid var(--border-light);font-size:12px;color:var(--accent);font-weight:500;flex-shrink:0}.slides-filter-clear{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:transparent;border:1px solid var(--accent);border-radius:50%;cursor:pointer;color:var(--accent);font-size:14px;font-weight:700;line-height:1;transition:all var(--transition)}.slides-filter-clear:hover{background:var(--accent);color:#fff}.slides-thumbnails{display:flex;gap:8px;padding:10px 16px;border-top:1px solid var(--border-light);background:var(--bg-primary);overflow-x:auto;flex-shrink:0}.slides-thumbnails::-webkit-scrollbar{height:3px}.slides-thumbnail{position:relative;flex-shrink:0;width:96px;height:54px;background:var(--bg-secondary);border:2px solid var(--border);border-radius:var(--radius-xs);overflow:hidden;cursor:pointer;padding:0;transition:all var(--transition)}.slides-thumbnail:hover{border-color:var(--text-muted)}.slides-thumbnail.active{border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-soft)}.slides-thumbnail-content{transform:scale(.12);transform-origin:top left;width:800px;padding:24px 32px;pointer-events:none;font-size:14px;line-height:1.4;color:var(--text-primary)}.slides-thumbnail-number{position:absolute;bottom:2px;right:4px;font-size:9px;font-weight:700;color:var(--text-muted);font-family:var(--font-mono)}.slides-viewer-nav{display:flex;justify-content:center;gap:8px;padding:10px 16px;border-top:1px solid var(--border-light);background:var(--bg-primary);flex-shrink:0}.slides-nav-btn{background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border);border-radius:var(--radius-sm);padding:6px 20px;font-size:12px;font-weight:600;cursor:pointer;transition:all var(--transition)}.slides-nav-btn:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary);border-color:var(--text-muted)}.slides-nav-btn:disabled{opacity:.4;cursor:not-allowed}.binary-download{display:flex;align-items:center;justify-content:center;height:100%;padding:40px}.binary-download-card{display:flex;flex-direction:column;align-items:center;gap:12px;padding:40px;background:var(--bg-primary);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-md);text-align:center}.binary-download-icon{color:var(--text-muted)}.binary-download-name{font-size:16px;font-weight:700;color:var(--text-primary)}.binary-download-type{font-size:13px;color:var(--text-muted);font-weight:500}::-webkit-scrollbar{width:5px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}::selection{background:var(--accent-soft);color:var(--text-primary)}.canvas-collapse-toggle{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:transparent;border:1.5px solid var(--border);border-radius:var(--radius-xs);color:var(--text-muted);cursor:pointer;transition:all var(--transition)}.canvas-collapse-toggle:hover{background:var(--bg-tertiary);color:var(--text-primary);border-color:var(--text-muted)}.canvas-collapse-toggle.collapsed{color:var(--accent);border-color:var(--accent)}.reset-confirm{display:flex;align-items:center;gap:6px;font-size:12px}.reset-confirm-text{color:var(--text-secondary);font-weight:500}.btn-reset-yes{background:var(--accent-red);color:#fff;border:none;border-radius:var(--radius-xs);padding:3px 10px;font-size:11px;font-weight:700;cursor:pointer;transition:all var(--transition)}.btn-reset-yes:hover{background:#b91c1c}.btn-reset-no{background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border);border-radius:var(--radius-xs);padding:3px 10px;font-size:11px;font-weight:600;cursor:pointer;transition:all var(--transition)}.btn-reset-no:hover{background:var(--bg-hover);color:var(--text-primary)}.chat-error-actions{display:flex;align-items:center;gap:8px;flex-shrink:0}.chat-error-retry{background:transparent;color:var(--accent-red);border:1px solid var(--accent-red);border-radius:var(--radius-xs);padding:2px 10px;font-size:11px;font-weight:600;cursor:pointer;transition:all var(--transition)}.chat-error-retry:hover{background:var(--accent-red);color:#fff}.canvas-tab{display:flex;align-items:center;gap:4px}.canvas-tab-name{overflow:hidden;text-overflow:ellipsis}.canvas-tab-badge{font-size:9px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;padding:1px 5px;border-radius:var(--radius-xs);background:var(--bg-tertiary);color:var(--text-muted);white-space:nowrap;flex-shrink:0}.canvas-tab.active .canvas-tab-badge{background:var(--accent);color:#fff;opacity:.85}.canvas-tab-close{display:none;font-size:14px;font-weight:700;line-height:1;opacity:.5;cursor:pointer;padding:0 2px;border-radius:2px;transition:opacity var(--transition)}.canvas-tab:hover .canvas-tab-close{display:inline}.canvas-tab-close:hover{opacity:1;background:var(--bg-hover)}.data-viewer-footer{display:flex;align-items:center;justify-content:space-between}.data-pagination{display:flex;align-items:center;gap:8px}.data-page-btn{background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border);border-radius:var(--radius-xs);padding:3px 10px;font-size:11px;font-weight:600;cursor:pointer;transition:all var(--transition)}.data-page-btn:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary)}.data-page-btn:disabled{opacity:.4;cursor:not-allowed}.data-page-info{font-size:11px;color:var(--text-muted);font-weight:500}.trace-collapsed-tokens{padding:6px 12px;font-size:11px;color:var(--text-muted);background:var(--bg-tertiary);border-radius:var(--radius-xs);border-left:3px solid var(--trace-llm);font-style:italic}.trace-pagination{display:flex;align-items:center;justify-content:center;gap:8px;padding:4px 0 8px;flex-shrink:0}.slides-export-error{color:var(--accent-red);font-size:11px;font-weight:500}.download-btn span:has(+.download-btn.error){color:var(--accent-red)}.slides-viewer:focus{outline:none}.app-main.canvas-fullscreen{position:relative}.app-main.canvas-fullscreen .canvas-panel-wrapper{width:100%!important;flex:1;min-width:0;max-width:none;border-left:none}.canvas-header-actions{display:flex;align-items:center;gap:4px;flex-shrink:0}.canvas-fullscreen-btn{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:transparent;border:1px solid var(--border);border-radius:var(--radius-xs);color:var(--text-muted);cursor:pointer;transition:all var(--transition)}.canvas-fullscreen-btn:hover{background:var(--bg-tertiary);color:var(--text-primary);border-color:var(--text-muted)}.canvas-fullscreen-btn.active{background:var(--accent-soft);color:var(--accent);border-color:var(--accent)}.chat-fab{position:fixed;bottom:24px;right:24px;width:48px;height:48px;border-radius:50%;background:var(--accent);color:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px #2563eb4d;transition:all .2s ease;z-index:60}.chat-fab:hover{background:var(--accent-hover);transform:scale(1.08);box-shadow:0 6px 24px #2563eb66}.chat-fab.open{background:var(--bg-tertiary);color:var(--text-primary);box-shadow:var(--shadow-lg)}.chat-fab.open:hover{background:var(--bg-hover)}.chat-fab-pulse{position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border-radius:50%;border:2px solid var(--accent);animation:fab-pulse 1.5s ease-in-out infinite}@keyframes fab-pulse{0%,to{opacity:0;transform:scale(1)}50%{opacity:.5;transform:scale(1.15)}}.chat-popup{position:fixed;border-radius:var(--radius);background:var(--bg-primary);border:1px solid var(--border);box-shadow:0 8px 32px #0000002e;display:flex;flex-direction:column;z-index:55;overflow:hidden;animation:popup-in .2s ease;min-width:300px;min-height:280px}@keyframes popup-in{0%{opacity:0;transform:translateY(12px) scale(.96)}to{opacity:1;transform:translateY(0) scale(1)}}.chat-popup-header{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border-bottom:1px solid var(--border-light);background:var(--bg-secondary);flex-shrink:0;cursor:grab;-webkit-user-select:none;user-select:none}.chat-popup-header:active{cursor:grabbing}.chat-popup-title{font-size:12px;font-weight:700;color:var(--text-primary);text-transform:uppercase;letter-spacing:.5px}.chat-popup-close{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:transparent;border:none;border-radius:var(--radius-xs);color:var(--text-muted);cursor:pointer;transition:all var(--transition)}.chat-popup-close:hover{background:var(--bg-hover);color:var(--text-primary)}.chat-popup-resize-grip{position:absolute;bottom:0;right:0;width:16px;height:16px;cursor:nwse-resize;z-index:10}.chat-popup-resize-grip:before{content:"";position:absolute;bottom:3px;right:3px;width:8px;height:8px;border-right:2px solid var(--text-muted);border-bottom:2px solid var(--text-muted);opacity:.5}.chat-popup-resize-grip:hover:before{opacity:1;border-color:var(--accent)}.chat-popup .chat-panel{flex:1;min-height:0}.chat-popup .chat-header{padding:6px 12px;min-height:36px}.chat-popup .chat-title{display:none}.chat-popup .chat-input-area{padding:8px 12px}.chat-popup .chat-input{font-size:13px;padding:8px 12px}.chat-popup .message-bubble{padding:8px 12px}.chat-popup .scroll-to-bottom{bottom:64px}@media(max-width:768px){.app-main{flex-direction:column}.resize-handle{display:none}.canvas-panel-wrapper{width:100%!important;min-width:0;max-width:none;border-left:none;border-top:1px solid var(--border);max-height:50vh}.chat-panel{min-height:50vh}.app-header{flex-wrap:wrap;gap:8px}.app-brand{flex:1}.app-controls{flex-wrap:wrap}.agent-selector{min-width:0;max-width:180px;flex:1}.canvas-collapse-toggle{display:none}.welcome-grid{grid-template-columns:1fr}}@media(max-width:480px){.app-header,.chat-input-area{padding:8px 12px}.slides-thumbnails{display:none}.slides-viewer-header{flex-wrap:wrap;gap:4px}.slides-export-btn span:last-child{display:none}.chat-popup{left:16px!important;top:auto!important;bottom:76px!important;width:calc(100vw - 32px)!important;height:400px!important}.chat-fab{right:16px;bottom:16px;width:44px;height:44px}}.login-page{display:flex;align-items:center;justify-content:center;height:100%;background:var(--bg-secondary)}.login-card{width:340px;padding:32px;background:var(--bg-primary);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow-lg)}.login-brand{display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:28px}.login-logo{height:32px;width:auto}.login-title{font-size:20px;font-weight:700;color:var(--text-primary);letter-spacing:-.4px}.login-error{background:var(--accent-red-soft);color:var(--accent-red);font-size:12px;padding:8px 12px;border-radius:var(--radius-sm);margin-bottom:16px}.login-label{display:block;font-size:12px;font-weight:600;color:var(--text-secondary);margin-bottom:4px}.login-input{width:100%;padding:8px 12px;margin-bottom:16px;background:var(--bg-input);color:var(--text-primary);border:1px solid var(--border);border-radius:var(--radius-sm);font-size:14px;font-family:var(--font-sans);transition:border-color var(--transition),box-shadow var(--transition)}.login-input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-soft)}.login-submit{width:100%;padding:10px;background:var(--accent);color:#fff;border:none;border-radius:var(--radius-sm);font-size:14px;font-weight:600;font-family:var(--font-sans);cursor:pointer;transition:background var(--transition)}.login-submit:hover:not(:disabled){background:var(--accent-hover)}.login-submit:disabled{opacity:.6;cursor:not-allowed}.user-badge{display:flex;align-items:center;gap:6px;padding:4px 8px 4px 10px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-sm);font-size:12px}.user-badge-name{font-weight:600;color:var(--text-primary)}.user-badge-role{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--accent);background:var(--accent-soft);padding:1px 6px;border-radius:3px}.user-badge-logout{display:flex;align-items:center;justify-content:center;width:22px;height:22px;background:none;border:none;border-radius:var(--radius-xs);cursor:pointer;color:var(--text-muted);transition:all var(--transition);margin-left:2px}.user-badge-logout:hover{background:var(--bg-hover);color:var(--accent-red)}
